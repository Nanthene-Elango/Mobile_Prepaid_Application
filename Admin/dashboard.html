<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
        integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="./style.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">

    <!-- DataTables CSS -->
    <link href="https://cdn.datatables.net/1.13.5/css/jquery.dataTables.min.css" rel="stylesheet">

    <!--charts-->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

    <!-- Include SweetAlert2 (Add this to your HTML head) -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/Admin/index.css">
    <title>Home</title>

</head>

<body style="background-color: rgb(0,32,96);">
    <section class="d-flex justify-content-around" style="height: max-content;">
        <aside class="col-4 col-lg-2 sticky-top" style="color: rgb(0,32,96);height: 800px; background-color: white;"
            id="sidebar">
            <div class="d-flex flex-column sticky-top">

                <div class="d-flex justify-content-center align-items-center my-4">
                    <!-- Logo -->
                    <a class="navbar-brand" href="./index.html">
                        <img src="../assets/img/Logo.png" alt="Logo" style="height: 60px;">
                    </a>
                </div>


                <div class="list-group" id="myList" role="tablist">

                    <div class="d-flex mx-4 my-2 text-center">
                        <a class="list-group-item list-group-item-action active text-decoration-none border-none"
                            id="list-dashboard-list" data-toggle="list" href="#list-dashboard" role="tab"
                            aria-controls="dashboard">
                            <i class="fas fa-line-chart me-1"></i>
                            Dashboard
                        </a>
                    </div>

                    <div class="d-flex mx-4 my-2 text-center">
                        <a class="list-group-item list-group-item-action text-decoration-none" id="list-plans-list"
                            data-toggle="list" href="#list-plans" role="tab" aria-controls="plans">
                            <i class="fas fa-tools me-1"></i> Manage plans
                        </a>
                    </div>

                    <div class="d-flex mx-4 my-2 text-center">
                        <a class="list-group-item list-group-item-action text-decoration-none "
                            id="list-subscribers-list" data-toggle="list" href="#list-subscribers" role="tab"
                            aria-controls="subscribers">
                            <i class="fas fa-users pt-1 me-1"></i> Subscribers
                        </a>
                    </div>

                    <div class="d-flex mx-4 my-2 text-center">
                        <a class="list-group-item list-group-item-action text-decoration-none " id="list-profile-list"
                            data-toggle="list" href="#list-profile" role="tab" aria-controls="profile">
                            <i class="fas fa-circle-user pt-1 me-1"></i> Manage profile
                        </a>
                    </div>

                </div>

            </div>
        </aside>

        <main class="col-8 col-lg-10" id="main">

            <div class="d-flex justify-content-around sticky-top" style="background-color: rgba(255, 255, 255, 0.368);">

                <button style="border: none; background-color: transparent;" onclick="hideSidebar()" id="hideSideBar">
                    <i class="fa-solid fa-circle-chevron-left text-light fa-2x"></i>
                </button>
                <button class="d-none" style="border: none; background-color: transparent;" onclick="showSidebar()"
                    id="showSideBar">
                    <i class="fa-solid fa-circle-chevron-right text-light fa-2x"></i>
                </button>

                <nav class="navbar navbar-expand navbar-light my-4 d-flex flex-row-reverse bg-white col-11 sticky-top"
                    style="box-shadow: 1px 2px 10px rgb(198, 198, 198); border-radius: 50px;">

                    <li class="nav-item dropdown px-4 list-unstyled" id="accountMenu">
                        <a class="nav-link" href="#" id="accountDropdown" role="button" data-bs-toggle="dropdown"
                            aria-expanded="false">
                            <i class="fa fa-user-circle fa-2x" style="color: rgb(0,32,96);"></i>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li><a class="dropdown-item" href="./profile">Profile</a></li>
                            <li><a class="dropdown-item text-danger" href="#" onclick="logout()">Logout</a></li>
                        </ul>
                    </li>
                </nav>
            </div>

            <!--Dashboard-->
            <div class="tab-content" id="nav-tabContent">

                <div class="tab-pane fade show active" id="list-dashboard" role="tabpanel"
                    aria-labelledby="list-dashboard-list">
                    <div class="d-flex flex-column flex-lg-row justify-content-around align-items-center my-3">
                        <div class="col-10 col-lg-2 my-3 p-4"
                            style="box-shadow: 1px 2px 10px darkgrey;border-radius: 5px;background-color: white;">
                            <h2>1K</h2>
                            <h6>Active Subscribers</h6>
                        </div>

                        <div class="col-10 col-lg-2 my-3 p-4"
                            style="box-shadow: 1px 2px 10px darkgrey;border-radius: 5px;background-color: white;">
                            <h2>500+</h2>
                            <h6>Active Plan Users</h6>
                        </div>

                        <div class="col-10 col-lg-2 my-3 p-4"
                            style="box-shadow: 1px 2px 10px darkgrey;border-radius: 5px;background-color: white;">
                            <h2>100</h2>
                            <h6>Users Expiry nearing</h6>
                        </div>

                        <div class="col-10 col-lg-2 p-4 my-3"
                            style="box-shadow: 1px 2px 10px darkgrey;border-radius: 5px;background-color: white;">
                            <h2>50</h2>
                            <h6>Plans Available</h6>
                        </div>
                    </div>

                    <div class="d-flex flex-column flex-lg-row justify-content-evenly">
                        <div class="col-5 d-flex justify-content-center p-3"
                            style="box-shadow: 1px 2px 10px darkgrey;border-radius: 5px;background-color: white;height: 250px;">
                            <canvas id="myChart"></canvas>
                        </div>
                        <div class="col-3 p-3 d-flex justify-content-center"
                            style="box-shadow: 1px 2px 10px darkgrey;border-radius: 5px;background-color: white;height: 250px;">
                            <canvas id="myPieChart1"></canvas>
                        </div>
                        <div class="col-3 p-3 d-flex align-items-center"
                            style="box-shadow: 1px 2px 10px darkgrey;border-radius: 5px;background-color: white;height: 250px;">
                            <canvas id="myLineChart"></canvas>
                        </div>
                    </div>

                    <div class="card m-4">
                        <div class="card-header">
                            <h5 class="p-1">Users Nearing Expiry</h5>
                        </div>
                        <div class="card-body">
                            <table id="exampleTable" class="table table-striped table-bordered p-2" style="width:100%;">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Mobile Number</th>
                                        <th>Plan Details</th>
                                        <th>Recharge Date</th>
                                        <th>Expiry Date</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody style="background: rgba(255, 255, 255, 0.452)">
                                    <tr>
                                        <td>John</td>
                                        <td>+91 1234567890</td>
                                        <td>Rs.299<br>Validity: 20 days<br>Data: 1.5GB/day</td>
                                        <td>04/05/2023</td>
                                        <td>24/05/2023</td>
                                        <td><button class="btn btn-primary">View Profile</button></td>
                                    </tr>
                                    <tr>
                                        <td>Alice</td>
                                        <td>+91 1234567890</td>
                                        <td>Rs.299<br>Validity: 20 days<br>Data: 1.5GB/day</td>
                                        <td>04/05/2023</td>
                                        <td>24/05/2023</td>
                                        <td><button class="btn btn-primary">View Profile</button></td>
                                    </tr>
                                    <tr>
                                        <td>Harry</td>
                                        <td>+91 1234567890</td>
                                        <td>Rs.299<br>Validity: 20 days<br>Data: 1.5GB/day</td>
                                        <td>04/05/2023</td>
                                        <td>24/05/2023</td>
                                        <td><button class="btn btn-primary">View Profile</button></td>
                                    </tr>
                                    <tr>
                                        <td>Peter</td>
                                        <td>+91 1234567890</td>
                                        <td>Rs.299<br>Validity: 20 days<br>Data: 1.5GB/day</td>
                                        <td>04/05/2023</td>
                                        <td>24/05/2023</td>
                                        <td><button class="btn btn-primary">View Profile</button></td>
                                    </tr>
                                    <tr>
                                        <td>Smith</td>
                                        <td>+91 1234567890</td>
                                        <td>Rs.299<br>Validity: 20 days<br>Data: 1.5GB/day</td>
                                        <td>04/05/2023</td>
                                        <td>24/05/2023</td>
                                        <td><button class="btn btn-primary">View Profile</button></td>
                                    </tr>
                                    <tr>
                                        <td>Charlie</td>
                                        <td>+91 1234567890</td>
                                        <td>Rs.299<br>Validity: 20 days<br>Data: 1.5GB/day</td>
                                        <td>04/05/2023</td>
                                        <td>24/05/2023</td>
                                        <td><button class="btn btn-primary">View Profile</button></td>
                                    </tr>
                                    <tr>
                                        <td>Nixen</td>
                                        <td>+91 1234567890</td>
                                        <td>Rs.299<br>Validity: 20 days<br>Data: 1.5GB/day</td>
                                        <td>04/05/2023</td>
                                        <td>24/05/2023</td>
                                        <td><button class="btn btn-primary">View Profile</button></td>
                                    </tr>

                                </tbody>
                            </table>
                        </div>
                    </div>

                </div>

                <!--Manage Plans-->
                <div class="tab-pane fade" id="list-plans" role="tabpanel" aria-labelledby="list-plans-list">

                    <div class="container mt-4">
                        <h2 class="text-center text-light">Manage Plans</h2>

                        <div class="add-category-container my-3">
                            <input type="text" id="newCategory" placeholder="Enter new category"
                                class="form-control d-inline w-25">
                            <button class="btn btn-primary" onclick="addCategory()">Add Category</button>
                        </div>

                        <button class="btn btn-primary" onclick="openAddModal()">Add New Plan</button>

                        <div class="tabs" id="categoriesNav">
                            <div class="tab active" onclick="filterPlans('All')">All</div>
                            <div class="tab" onclick="filterPlans('Popular')">Popular</div>
                            <div class="tab" onclick="filterPlans('Data')">Data</div>
                            <div class="tab " onclick="filterPlans('Validity')">Validity</div>
                            <div class="tab " onclick="filterPlans('Unlimited')">Unlimited</div>
                        </div>

                        <hr class="col-12 text-light">

                        <div class="col-3 d-flex m-3">
                            <input type="search" class="form-control " placeholder="Search" aria-label="Search"
                                aria-describedby="search-addon" style="border-radius: 5px 0px 0px 5px;" />
                            <span class="input-group-text border-0" id="search-addon"
                                style="border-radius: 0px 5px 5px 0px;">
                                <i class="fas fa-search"></i>
                            </span>
                        </div>

                        <!-- Table -->
                        <div class="table-container glass-table mb-5">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>#</th>
                                        <th>Category</th>
                                        <th>Price (Rs)</th>
                                        <th>Data</th>
                                        <th>Validity</th>
                                        <th>Benefits</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="plansTable"></tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Add/Edit Modal -->
                    <div class="modal fade" id="planModal" tabindex="-1" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="modalTitle">Add Plan</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                                </div>
                                <div class="modal-body">
                                    <input type="hidden" id="editPlanId">
                                    <div class="mb-3">
                                        <label>Category</label>
                                        <select class="form-control" id="planCategory"></select>
                                    </div>
                                    <div class="mb-3">
                                        <label>Price</label>
                                        <input type="number" class="form-control" id="planPrice" placeholder="Price">
                                    </div>
                                    <div class="mb-3">
                                        <label>Data</label>
                                        <input type="text" class="form-control" id="planData" placeholder="Data">
                                    </div>
                                    <div class="mb-3">
                                        <label>Validity</label>
                                        <input type="text" class="form-control" id="planValidity"
                                            placeholder="Validity">
                                    </div>
                                    <div class="mb-3">
                                        <label>Benefits</label>
                                        <input type="text" class="form-control" id="planBenefits"
                                            placeholder="Benefits separated by comma">
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary"
                                        data-bs-dismiss="modal">Close</button>
                                    <button type="button" class="btn btn-success" id="savePlanBtn">Save</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!--Subscribers-->
                <div class="tab-pane fade" id="list-subscribers" role="tabpanel"
                    aria-labelledby="list-subscribers-list">
                    Subscribers
                </div>

                <!--Profile-->
                <div class="tab-pane fade" id="list-profile" role="tabpanel" aria-labelledby="list-profile-list">
                    <div class="container mt-4" style="border: 1px solid white;">

                    </div>
                </div>
            </div>

        </main>
    </section>

    <!-- jQuery and Bootstrap Bundle -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script> -->

    <!-- DataTables JS -->
    <script src="https://cdn.datatables.net/1.13.5/js/jquery.dataTables.min.js"></script>

    <script src="../assets/js/Admin/dashboard.js"></script>

</body>

</html>